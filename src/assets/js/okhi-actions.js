var OkHiFields=/** @class */function(){function a(){}return a.billingPhoneField="#billing_phone",a.billingLastNameField="#billing_last_name",a.billingFirstNameField="#billing_first_name",a.requiredAddressField="#billing_address_1",a.billingPostcodeField="#billing_postcode",a.billingOtherInformationField="#order_comments",a.billingStreetNameField="#billing_okhi_street_name",a.billingPropertyNameField="#billing_okhi_property_name",a.billingPropertyNumberField="#billing_okhi_property_number",a.billingOkHiLatField="#billing_okhi_lat",a.billingOkHiLonField="#billing_okhi_lon",a.billingOkHiPlaceIdField="#billing_okhi_place_id",a.billingOkHiIdField="#billing_okhi_id",a.billingOkHiTokenField="#billing_okhi_token",a.billingOkHiURLField="#billing_okhi_url",a.locationCardContainerElement="#selected-location-card",a.errorElement="#okhi-errors",a}();function autoPrefixPhone(a){return 0===(null===a||void 0===a?void 0:a.indexOf("0"))?wcOkHiJson.countryCallingCode+a.slice(1):a}var okCollectErrorHandler=function(a){var b=jQuery(OkHiFields.errorElement);return a&&"invalid_phone"===a.code&&jQuery("#billing_phone_field").removeClass("woocommerce-validated").addClass("woocommerce-invalid woocommerce-invalid-phone"),a&&a.code&&"exit_app"==a.code?void 0:b?a?void// handle errors here e.g fallback to your own way of collecting a location information
b.html(a.message?a.message:"Something went wrong please try again"):void b.html(""):void 0},handleFatalError=function(a){return a&&"invalid_phone"===a.code?void okCollectErrorHandler(a):void jQuery.each([// '#billing_country_field',
// '#billing_address_1_field',
// '#billing_postcode_field',
// '.woocommerce-additional-fields',
"#billing_okhi_location_data_field"//given this is required
],function(a,b){jQuery(b).show()})},resetOkHiFields=function(){for(var a,b=[jQuery(OkHiFields.requiredAddressField),jQuery(OkHiFields.billingPostcodeField),jQuery(OkHiFields.billingOtherInformationField),jQuery(OkHiFields.billingStreetNameField),jQuery(OkHiFields.billingPropertyNameField),jQuery(OkHiFields.billingPropertyNumberField),jQuery(OkHiFields.billingOkHiLatField),jQuery(OkHiFields.billingOkHiLonField),jQuery(OkHiFields.billingOkHiPlaceIdField),jQuery(OkHiFields.billingOkHiIdField),jQuery(OkHiFields.billingOkHiURLField)],c=0,d=b;c<d.length;c++)a=d[c],a.val("")},okCollectSuccessHandler=function(a){var b=jQuery(OkHiFields.billingPostcodeField),c=jQuery(OkHiFields.billingOtherInformationField),d=jQuery(OkHiFields.billingStreetNameField),e=jQuery(OkHiFields.billingPropertyNameField),f=jQuery(OkHiFields.billingPropertyNumberField),g=jQuery(OkHiFields.billingOkHiLatField),h=jQuery(OkHiFields.billingOkHiLonField),i=jQuery(OkHiFields.billingOkHiPlaceIdField),j=jQuery(OkHiFields.billingOkHiIdField),k=jQuery(OkHiFields.billingOkHiURLField),l=jQuery(OkHiFields.requiredAddressField),m=jQuery(OkHiFields.billingOkHiTokenField);// handle your success here with the data you get back
if(a){var n=a.street_name,o=a.property_name,p=a.property_number,q=a.geo_point,r=a.directions,s=a.id,t=a.url,u=a.other_information,v=a.plus_code,w=a.place_id,x=a.token,y=[];o&&y.push(o),p&&y.push(p),r&&y.push(r),n&&y.push(n),"undefined"!=typeof l&&l.val(y.join(", ").trim()),"undefined"!=typeof c&&u&&c.val(u),"undefined"!=typeof b&&v&&b.val(v),"undefined"!=typeof d&&n&&d.val(n),"undefined"!=typeof e&&o&&e.val(o),"undefined"!=typeof f&&p&&f.val(p),"undefined"!=typeof g&&q&&q.lat&&g.val(q.lat),"undefined"!=typeof h&&q&&q.lon&&h.val(q.lon),"undefined"!=typeof i&&i.val(w||""),"undefined"!=typeof j&&j.val(s||""),"undefined"!=typeof m&&m.val(x||""),"undefined"!=typeof k&&k.val(t||""),jQuery(document.body).trigger("update_checkout")}},okcollect=window.okcollect,wcOkHiJson$1=window.wcOkHiJson;function okhi_init(){var a=jQuery(OkHiFields.billingFirstNameField),b=jQuery(OkHiFields.billingLastNameField),c=jQuery(OkHiFields.billingPhoneField),d=document.querySelector(OkHiFields.locationCardContainerElement),e=new okcollect({target:d,props:{API_KEY:wcOkHiJson$1.key,userFirstName:a.val(),userLastName:b.val(),userPhoneNumber:autoPrefixPhone(c.val()),onAddressSelected:okCollectSuccessHandler,onError:console.log,streetviewEnabled:!0,toTheDoorEnabled:!0,name:"OkHi",styleSettings:{primaryColor:wcOkHiJson$1.styles.color,highlightColor:"#85FFC7"},appSettings:{name:wcOkHiJson$1.app.name,version:wcOkHiJson$1.app.version}}});a.on("input",function(a){e.$set({userFirstName:a.target.value})}),b.on("input",function(a){e.$set({userLastName:a.target.value})}),c.on("input",function(a){e.$set({userPhoneNumber:autoPrefixPhone(a.target.value)}),okCollectErrorHandler(null),resetOkHiFields()});/**
     * reset fields set by OkHi
     */try{/**
         * show location card for repeat users
         * for a zero click user experience
         */ // hide default fields
jQuery("#okhi-loader").hide(),jQuery("#selected-location-card").show(),jQuery.each(["#billing_okhi_street_name_field"],function(a,b){jQuery(b).hide()})}catch(a){handleFatalError(a),console.error("Zero click card load erroring out:",a)}}window.okhi_init=okhi_init;